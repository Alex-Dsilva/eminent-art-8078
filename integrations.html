<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrations</title>
    <link rel="stylesheet" href="integrations.css">

</head>
<body>
    <div id="navbar">
    <div id="logo"><img src="https://trackingtime.co/wp-content/themes/trackingtime-v4/img/layout/header/logo.svg" alt=""></div>
    </div>
        <div id="integrations">
             <h2 id="chrome">TRACKING TIME BUTTON FOR CHROME</h2>
             <h1>Tracking Time</h1>
             <h1>Integrations</h1>
             <h2 id="youAll">TIME TRACKING INETGRATIONS THAT YOU'LL LOVE</h2>
             <input type="text" name="" id="search" oninput="displayFunc()" placeholder="SEARCH YOUR FAVOURITE APP!">
            
        </div>
       
           <div id="articles">
                <p></p>
           </div>
        </div>
        <div id="container"></div>
</body>
<script>
    
     async function reader(){
        try{
            let base = await fetch (`https://basic-api-list.herokuapp.com/apps`);
            let read = await base.json();
            // console.log(read)
    
            display(read);
        }
        catch(error){
            console.log(12345)
        }
    }
   reader();

    function display(read){
        // console.log("cool")
        document.querySelector('#container').innerHTML = '';
        read.forEach(function(element){

              let divi = document.createElement('div');
            divi.addEventListener("click",function(){
                      display3()
                   })
            let pic = document.createElement('img');
            pic.src = element.imageUrl;
            let he = document.createElement('h1');
            he.innerText = element.title;
            let desc = document.createElement('p');
             desc.innerText = element.des;
            divi.append(pic,he,desc);
            document.querySelector('#container').append(divi)
        })
           
        
        
        
    }


    
       let arr = [];
   async   function displayFunc(){
    let searched = document.querySelector('#search').value;

          try{
            let base = await fetch(`https://basic-api-list.herokuapp.com/apps`);
            let read = await base.json();
              console.log(read);
              console.log(searched)
            
              for(let i=0;i<read.length;i++){
                if(searched == read[i].title){
                    arr.push(read[i]);
                    display(arr)
                }
              }
          }
            catch(error){
                console.log(1234)
            }
      }
      function display3(){
           
            
            window.location.href = "https://trackingtime.co/time-tracker-for-airtable"
           }
</script>
</html>